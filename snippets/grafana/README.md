# Инструкция для настройки Grafana

Эта инструкция описывает порядок действий для настройки и запуска контейнера **Grafana** на платформе L1vestack.

---

## 1. Загрузите контейнер

Нажмите кнопку **"Выбрать"** в данном окне для загрузки контейнера в ваш проект.

---
## 2. Настройте переменные окружения

Укажите параметры для настройки Grafana через переменные окружения. Ниже приведены основные переменные:

- **`GF_SECURITY_ADMIN_PASSWORD`**  — пароль для пользователя admin (обязательно).
- **`GF_SECURITY_ADMIN_USER`**  — имя пользователя для входа в Grafana (по умолчанию admin).
- **`GF_INSTALL_PLUGINS`**  — список плагинов для установки (опционально, через запятую).
- **`GF_DATABASE_TYPE`**  — тип базы данных (например, mysql, postgres, по умолчанию используется встроенная SQLite).
- **`GF_DATABASE_HOST`**  — хост базы данных (если используется внешняя БД).
- **`GF_DATABASE_NAME`**  — имя базы данных.
- **`GF_DATABASE_USER`**  — пользователь базы данных.
- **`GF_DATABASE_PASSWORD`**  — пароль для подключения к базе данных.

---

## 3. Запустите контейнер

Запустите контейнер через интерфейс панели управления, указав необходимые настройки для сети и хранения данных (например, проброс портов и монтирование тома для сохранения данных).

```yaml
services: # (Оставьте этот блок только в первом контейнере, в последующих – подключайтесь к уже запущенному сервису)
  grafana:
    image: grafana/grafana:latest
    restart: unless-stopped
    environment:
      GF_SECURITY_ADMIN_USER: admin               # Имя пользователя для входа в Grafana
      GF_SECURITY_ADMIN_PASSWORD: admin_password  # Пароль для пользователя admin
      GF_INSTALL_PLUGINS: grafana-clock-panel,grafana-piechart-panel  # Опционально: установка плагинов
    volumes:
      - ./grafana_data:/var/lib/grafana          # Сохранение данных Grafana на хосте
    ports:
      - "3000:3000"                              # Порт Grafana (доступ по http://localhost:3000)
```

## 4. Подключитесь к Grafana
Откройте браузер и перейдите по адресу, выданному платформой L1vestack

Войдите в систему, используя учётные данные:

- **`Логин: admin `** (или значение, указанное в GF_SECURITY_ADMIN_USER).

- **`Пароль: admin_password`** (или значение, указанное в GF_SECURITY_ADMIN_PASSWORD).

После входа вы сможете настроить источники данных, дашборды и плагины.